<!DOCTYPE html>
<html lang="he" dir="rtl" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PsychoFlash | Interactive Production Experience</title>
    <meta name="description" content="פתרונות הפקה טכניים ויצירתיים | Technical and Creative Production Solutions">

    <!-- Favicons -->
    <link rel="icon" sizes="192x192" href="https://static.wixstatic.com/media/4deb30_9c287599475f42f289b71ce6f5bfa0de%7Emv2.png/v1/fill/w_192%2Ch_192%2Clg_1%2Cusm_0.66_1.00_0.01/4deb30_9c287599475f42f289b71ce6f5bfa0de%7Emv2.png" type="image/png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;300;400;500;700;800;900&family=Teko:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Three.js & Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            /* Default / Light Mode Variables */
            --primary: #0070f3; /* Darker blue for light mode readability */
            --secondary: #7928ca;
            --bg-color: #f0f2f5;
            --text-color: #1a1a1a;
            --text-muted: #555555;
            --glass-border: rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.7);
            --nav-bg: rgba(255, 255, 255, 0.8);
            --nav-text: #333;
            --nav-active: #000;
            --card-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        /* Dark Mode Overrides */
        html.dark {
            --primary: #00f2ff; /* Cyan neon for dark mode */
            --secondary: #bd00ff;
            --bg-color: #030305;
            --text-color: #ffffff;
            --text-muted: #a0a0a0;
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(10, 10, 15, 0.6);
            --nav-bg: rgba(3, 3, 5, 0.7);
            --nav-text: #a0a0a0;
            --nav-active: #fff;
            --card-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }

        html {
            scroll-behavior: smooth;
            background-color: var(--bg-color);
            transition: background-color 0.5s ease;
        }

        body {
            margin: 0;
            font-family: 'Heebo', sans-serif;
            color: var(--text-color);
            overflow-x: hidden;
            cursor: auto;
            transition: color 0.5s ease;
        }

        /* Typography */
        h1, h2, h3, .logo { font-family: 'Heebo', sans-serif; }
        .teko-font { font-family: 'Teko', sans-serif; }
        .orbitron-font { font-family: 'Orbitron', sans-serif; }
        
        .section-title {
            font-family: 'Teko', sans-serif;
            font-size: clamp(3rem, 5vw, 5rem);
            text-transform: uppercase;
            line-height: 0.9;
            margin-bottom: 2rem;
            /* Dynamic Gradient Text */
            background: linear-gradient(to left, var(--text-color), var(--text-muted));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }
        
        /* Glitch Effect - Updated colors for themes */
        .glitch-text { position: relative; }
        .glitch-text::before, .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--bg-color); /* Matches bg to hide original */
        }
        .glitch-text::before {
            left: 2px;
            text-shadow: -1px 0 var(--secondary);
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        .glitch-text::after {
            left: -2px;
            text-shadow: -1px 0 var(--primary);
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim2 5s infinite linear alternate-reverse;
        }
        @keyframes glitch-anim {
            0% { clip: rect(33px, 9999px, 11px, 0); }
            20% { clip: rect(89px, 9999px, 13px, 0); }
            40% { clip: rect(12px, 9999px, 86px, 0); }
            60% { clip: rect(45px, 9999px, 22px, 0); }
            80% { clip: rect(4px, 9999px, 99px, 0); }
            100% { clip: rect(67px, 9999px, 3px, 0); }
        }
        @keyframes glitch-anim2 {
            0% { clip: rect(2px, 9999px, 44px, 0); }
            20% { clip: rect(12px, 9999px, 88px, 0); }
            40% { clip: rect(76px, 9999px, 11px, 0); }
            60% { clip: rect(32px, 9999px, 55px, 0); }
            80% { clip: rect(90px, 9999px, 4px, 0); }
            100% { clip: rect(12px, 9999px, 22px, 0); }
        }

        /* Backgrounds */
        #webgl-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.6; pointer-events: none;
        }
        
        #video-bg-wrapper {
            position: fixed; inset: 0; z-index: -2;
            opacity: 0.2; /* Lower opacity for better readability in both modes */
            transition: opacity 1s ease;
            filter: grayscale(100%) contrast(1.2);
        }
        html.dark #video-bg-wrapper { opacity: 0.4; } /* Dark mode can handle more video opacity */
        body.hero-active #video-bg-wrapper { opacity: 0.5; } /* More visible in hero */
        
        .gradient-overlay {
            position: fixed; inset: 0; z-index: -1;
            /* Radial gradient adjusted for theme */
            background: radial-gradient(circle at 50% 50%, transparent 0%, var(--bg-color) 90%);
            pointer-events: none;
        }

        /* Layout */
        header {
            position: fixed; top: 0; width: 100%; z-index: 100;
            padding: 20px 40px;
            display: flex; justify-content: space-between; align-items: center;
            background: var(--nav-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            transition: all 0.4s ease;
        }
        header.scrolled { padding: 10px 40px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }

        .nav-link {
            position: relative; font-weight: 500; color: var(--nav-text);
            transition: color 0.3s; text-transform: uppercase; font-size: 0.9rem; letter-spacing: 1px;
        }
        .nav-link::before {
            content: ''; position: absolute; bottom: -5px; right: 0;
            width: 0%; height: 2px; background: var(--primary);
            transition: width 0.3s ease;
        }
        html[dir="ltr"] .nav-link::before { right: auto; left: 0; }
        .nav-link:hover, .nav-link.active { color: var(--nav-active); }
        .nav-link:hover::before, .nav-link.active::before { width: 100%; }

        main > section {
            position: relative; padding: 120px 20px; max-width: 1400px; margin: 0 auto;
        }

        /* 3D Cards (Tilt Effect) */
        .glass-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2.5rem;
            backdrop-filter: blur(20px);
            transform-style: preserve-3d;
            transform: perspective(1000px);
            transition: transform 0.1s, background 0.3s, border-color 0.3s;
            box-shadow: var(--card-shadow);
        }
        
        .glass-card h3 {
            transform: translateZ(20px);
            color: var(--text-color); font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;
        }
        .glass-card p {
            transform: translateZ(10px);
            color: var(--text-muted); line-height: 1.6;
        }
        .glass-card-icon {
            transform: translateZ(30px); margin-bottom: 1.5rem;
            filter: drop-shadow(0 0 10px var(--primary));
        }
        /* In light mode, drop shadow might need adjustment */
        html:not(.dark) .glass-card-icon { filter: drop-shadow(0 0 5px rgba(0,112,243,0.5)); }

        /* Buttons */
        .cyber-btn {
            position: relative; padding: 12px 35px;
            background: transparent; color: var(--primary);
            border: 1px solid var(--primary);
            font-family: 'Orbitron', sans-serif; text-transform: uppercase; font-weight: 700; letter-spacing: 2px;
            overflow: hidden; transition: all 0.4s ease;
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
        .cyber-btn:hover {
            background: var(--primary);
            color: #fff; /* White text on hover is usually safe for primary colors */
            box-shadow: 0 0 30px var(--primary);
        }

        /* Services Layout */
        .service-block {
            display: grid; grid-template-columns: 1fr; gap: 3rem;
            margin-bottom: 8rem; align-items: center;
            opacity: 0; transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .service-block.visible { opacity: 1; transform: translateY(0); }
        @media (min-width: 992px) {
            .service-block { grid-template-columns: 1fr 1fr; }
            .service-block.alt { direction: ltr; }
            .service-block.alt .service-content { text-align: left; direction: rtl; } 
            html[dir="ltr"] .service-block.alt { direction: rtl; }
            html[dir="ltr"] .service-block.alt .service-content { text-align: left; direction: ltr; }
        }
        
        .service-img-wrapper {
            position: relative; border-radius: 4px; overflow: hidden;
            box-shadow: var(--card-shadow);
        }
        .service-img-wrapper::after {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(45deg, var(--primary), transparent);
            opacity: 0.2; z-index: 1;
        }
        .service-img { width: 100%; height: auto; display: block; transition: transform 0.7s ease; }
        .service-block:hover .service-img { transform: scale(1.05); }

        /* Stats */
        .stat-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem; font-weight: 900;
            background: linear-gradient(to bottom, var(--text-color), var(--text-muted));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Footer */
        footer { background: #000; border-top: 1px solid #222; padding: 80px 20px; color: #888; }

        /* Mobile Menu */
        #mobile-menu {
            position: fixed; inset: 0; background: var(--bg-color); z-index: 900;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transform: translateX(100%); transition: transform 0.4s ease;
        }
        html[dir="ltr"] #mobile-menu { transform: translateX(-100%); }
        #mobile-menu.open { transform: translateX(0); }

        /* Language & Theme Switcher */
        .lang-btn, .theme-btn { opacity: 0.5; transition: opacity 0.3s; cursor: pointer; }
        .lang-btn:hover, .lang-btn.active, .theme-btn:hover { opacity: 1; transform: scale(1.1); }

        .text-gradient-primary { color: var(--primary); }
        .text-muted-custom { color: var(--text-muted); }

        /* Invert logos in light mode for visibility */
        html:not(.dark) #logo-track img { filter: grayscale(1) brightness(0); opacity: 0.6; }
        html:not(.dark) #logo-track img:hover { filter: none; opacity: 1; }
        
        /* Logo text color adaptation */
        .logo { color: var(--text-color); }

    </style>
</head>

<body>
    <!-- Backgrounds -->
    <div id="webgl-container"></div>
    <div class="gradient-overlay"></div>

    <!-- Video Player Background -->
    <div id="video-bg-wrapper">
        <div id="player-container-a" style="position:absolute; inset:0; width:100%; height:100%;"></div>
        <div id="player-container-b" style="position:absolute; inset:0; width:100%; height:100%; opacity:0;"></div>
    </div>

    <!-- Header -->
    <header id="main-header">
        <a href="#" class="logo text-2xl font-bold tracking-tighter">
            PSYCHO<span style="color:var(--primary)">FLASH</span>
        </a>
        
        <nav class="hidden lg:flex gap-8">
            <a href="#home" class="nav-link hover-trigger" data-key="nav_home">ראשי</a>
            <a href="#showreel" class="nav-link hover-trigger" data-key="nav_work">עבודות</a>
            <a href="#dna" class="nav-link hover-trigger" data-key="nav_dna">DNA</a>
            <a href="#what-we-do" class="nav-link hover-trigger" data-key="nav_solutions">פתרונות</a>
            <a href="#services" class="nav-link hover-trigger" data-key="nav_packages">חבילות</a>
            <a href="#contact" class="nav-link hover-trigger" data-key="nav_contact">צור קשר</a>
        </nav>

        <div class="flex items-center gap-4">
            <!-- Desktop Controls -->
            <div class="hidden md:flex gap-4 items-center border-l border-white/20 pl-4 ml-2 rtl:border-r rtl:border-l-0 rtl:pr-4 rtl:mr-2 rtl:pl-0">
                <!-- Lang -->
                <div class="flex gap-2">
                    <img src="https://flagcdn.com/w40/il.png" class="w-6 h-4 lang-btn active" data-lang="he" alt="Hebrew">
                    <img src="https://flagcdn.com/w40/us.png" class="w-6 h-4 lang-btn" data-lang="en" alt="English">
                </div>
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="theme-btn text-[var(--text-color)]" aria-label="Toggle Theme">
                    <!-- Sun Icon (For Dark Mode) -->
                    <svg id="icon-sun" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 100-10 5 5 0 000 10z"></path></svg>
                    <!-- Moon Icon (For Light Mode) -->
                    <svg id="icon-moon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                </button>
            </div>

            <button class="lg:hidden text-[var(--text-color)] hover-trigger" id="menu-btn">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
            <a href="#contact" class="hidden md:inline-block cyber-btn text-sm hover-trigger" data-key="btn_talk">דברו איתנו</a>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu">
        <button id="close-menu" class="absolute top-8 left-8 text-[var(--text-color)] rtl:left-8 rtl:right-auto ltr:right-8 ltr:left-auto">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
        <nav class="flex flex-col items-center gap-8 text-2xl text-[var(--text-color)]">
            <a href="#home" class="hover:text-[var(--primary)] transition-colors mobile-link" data-key="nav_home">ראשי</a>
            <a href="#showreel" class="hover:text-[var(--primary)] transition-colors mobile-link" data-key="nav_work">עבודות</a>
            <a href="#dna" class="hover:text-[var(--primary)] transition-colors mobile-link" data-key="nav_dna">DNA</a>
            <a href="#what-we-do" class="hover:text-[var(--primary)] transition-colors mobile-link" data-key="nav_solutions">פתרונות</a>
            <a href="#contact" class="hover:text-[var(--primary)] transition-colors mobile-link" data-key="nav_contact">צור קשר</a>
            
            <!-- Mobile Controls -->
            <div class="flex gap-6 mt-8 items-center">
                <div class="flex gap-4">
                    <img src="https://flagcdn.com/w40/il.png" class="w-8 h-6 lang-btn active" data-lang="he" alt="Hebrew">
                    <img src="https://flagcdn.com/w40/us.png" class="w-8 h-6 lang-btn" data-lang="en" alt="English">
                </div>
                <button id="theme-toggle-mobile" class="theme-btn text-[var(--text-color)] p-2 border border-[var(--glass-border)] rounded-full">
                     <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 100-10 5 5 0 000 10z"></path></svg>
                </button>
            </div>
        </nav>
    </div>

    <main>
        <!-- Hero Section -->
        <section id="home" class="min-h-screen flex flex-col justify-center items-center text-center pt-32">
            <h1 class="text-6xl md:text-8xl font-black mb-6 tracking-tight leading-none glitch-text" data-key="hero_title" data-text="השילוב המושלם">
                השילוב <span style="color:transparent; -webkit-text-stroke: 2px var(--primary);">המושלם</span>
            </h1>
            <h2 class="text-4xl md:text-6xl font-bold mb-8 text-muted-custom" data-key="hero_subtitle">
                בין ביצוע טכני לחדשנות יצירתית
            </h2>
            <p class="max-w-2xl text-lg text-muted-custom mb-12 leading-relaxed opacity-80" data-key="hero_desc">
                מהפקות וידאו ושידורים חיים ועד פיתוח פתרונות תוכנה ו-AI. אנחנו כאן כדי להפוך את החזון שלכם למציאות מרשימה, חלקה ונטולת תקלות.
            </p>
            <div class="flex gap-6">
                <a href="#contact" class="cyber-btn hover-trigger" data-key="hero_cta_start">התחילו פרויקט</a>
                <a href="#showreel" class="cyber-btn hover-trigger" style="border-color: var(--text-color); color: var(--text-color);" data-key="hero_cta_work">צפו בעבודות</a>
            </div>
        </section>

        <!-- Stats Section -->
        <section id="stats" class="py-20 relative">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
                <div class="tilt-card hover-trigger">
                    <div class="stat-number">1,200+</div>
                    <p class="text-gradient-primary tracking-widest uppercase mt-2 font-bold" data-key="stat_productions">הפקות מוצלחות</p>
                </div>
                <div class="tilt-card hover-trigger">
                    <div class="stat-number">25+</div>
                    <p class="text-[var(--secondary)] tracking-widest uppercase mt-2 font-bold" data-key="stat_countries">מדינות בעולם</p>
                </div>
                <div class="tilt-card hover-trigger">
                    <div class="stat-number">24/7</div>
                    <p class="text-gradient-primary tracking-widest uppercase mt-2 font-bold" data-key="stat_support">תמיכה ושירות</p>
                </div>
            </div>
        </section>

        <!-- Clients Marquee -->
        <section id="clients" class="py-10 border-y border-[var(--glass-border)] bg-[var(--glass-bg)] backdrop-blur-sm overflow-hidden">
            <div class="flex w-max scrolling-logos">
                <!-- Logos injected via JS -->
                <div id="logo-track" class="flex gap-16 items-center transition-all duration-500"></div>
            </div>
        </section>

        <!-- Showreel Grid -->
        <section id="showreel">
            <h2 class="section-title text-center w-full" data-key="section_work">נבחרת העבודות</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12">
                <!-- Work Item 1 -->
                <div class="group relative aspect-video rounded-lg overflow-hidden border border-[var(--glass-border)] hover-trigger">
                    <img src="https://images.unsplash.com/photo-1541532713592-79a0317b6b77?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="WRC">
                    <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-center items-center p-4 text-center">
                        <h3 class="text-3xl font-bold text-white mb-2">WRC All Live</h3>
                        <p class="text-[var(--primary)]" data-key="work_live_sport">שידור חי | ספורט</p>
                    </div>
                </div>
                <!-- Work Item 2 -->
                <div class="group relative aspect-video rounded-lg overflow-hidden border border-[var(--glass-border)] hover-trigger">
                    <img src="https://images.unsplash.com/photo-1587329310686-94756011cdead?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Wimbledon">
                    <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-center items-center p-4 text-center">
                        <h3 class="text-3xl font-bold text-white mb-2">Wimbledon</h3>
                        <p class="text-[var(--secondary)]" data-key="work_live_sport">שידור חי | ספורט</p>
                    </div>
                </div>
                <!-- Work Item 3 -->
                <div class="group relative aspect-video rounded-lg overflow-hidden border border-[var(--glass-border)] hover-trigger">
                    <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=1000&auto=format&fit=crop" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="Seven Network">
                    <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-center items-center p-4 text-center">
                        <h3 class="text-3xl font-bold text-white mb-2">Seven Network</h3>
                        <p class="text-[var(--primary)]" data-key="work_broadcast_ip">שידור | IP</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- DNA / Persona (3D Tilt Cards) -->
        <section id="dna">
            <div class="text-center mb-16">
                <h2 class="section-title" data-key="section_dna">פרופיל לקוח</h2>
                <p class="text-muted-custom" data-key="dna_subtitle">התאמת פתרונות מדויקת לצרכים שלכם</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 perspective-container">
                
                <div class="glass-card js-tilt hover-trigger">
                    <img src="https://img.icons8.com/nolan/64/00f2ff/bd00ff/clapperboard.png" class="glass-card-icon" alt="icon">
                    <h3 data-key="dna_production">חברות הפקה</h3>
                    <p data-key="dna_production_desc">ניהול טכני מלא להפקות ואירועים גדולים. אנחנו הדאגה הטכנית שלכם בשטח.</p>
                </div>

                <div class="glass-card js-tilt hover-trigger">
                    <img src="https://img.icons8.com/nolan/64/00f2ff/bd00ff/video-camera.png" class="glass-card-icon" alt="icon">
                    <h3 data-key="dna_broadcasters">גופי שידור</h3>
                    <p data-key="dna_broadcasters_desc">תמיכה בשידורים חיים, הקמת אולפנים ותפעול מערכות וידאו מתקדמות.</p>
                </div>

                <div class="glass-card js-tilt hover-trigger">
                    <img src="https://img.icons8.com/nolan/64/00f2ff/bd00ff/online-store.png" class="glass-card-icon" alt="icon">
                    <h3 data-key="dna_brands">מותגים</h3>
                    <p data-key="dna_brands_desc">שיווק וסיפור מותג באמצעות וידאו, השקות מוצר וכנסים וירטואליים.</p>
                </div>

                <div class="glass-card js-tilt hover-trigger">
                    <img src="https://img.icons8.com/nolan/64/00f2ff/bd00ff/university.png" class="glass-card-icon" alt="icon">
                    <h3 data-key="dna_public">ציבורי ואקדמי</h3>
                    <p data-key="dna_public_desc">הנגשת תוכן לימודי, כנסי מדע והרצאות היברידיות.</p>
                </div>

                <div class="glass-card js-tilt hover-trigger">
                    <img src="https://img.icons8.com/nolan/64/00f2ff/bd00ff/rocket.png" class="glass-card-icon" alt="icon">
                    <h3 data-key="dna_startups">סטארטאפים</h3>
                    <p data-key="dna_startups_desc">פיצ'ים, סרטוני תדמית ודמואים טכנולוגיים ברמה הגבוהה ביותר.</p>
                </div>
            </div>
        </section>

        <!-- Process -->
        <section id="process" class="relative">
            <h2 class="section-title text-center mb-16" data-key="section_process">התהליך שלנו</h2>
            <div class="flex flex-wrap justify-center gap-8">
                <div class="w-full md:w-1/5 glass-card text-center hover-trigger">
                    <div class="text-6xl font-black text-[var(--glass-border)] mb-4 orbitron-font">01</div>
                    <h3 class="text-xl font-bold text-[var(--primary)]" data-key="process_1">אסטרטגיה</h3>
                    <p class="text-sm mt-2" data-key="process_1_desc">פיצוח הקונספט והגדרת יעדים</p>
                </div>
                <div class="w-full md:w-1/5 glass-card text-center hover-trigger">
                    <div class="text-6xl font-black text-[var(--glass-border)] mb-4 orbitron-font">02</div>
                    <h3 class="text-xl font-bold text-[var(--secondary)]" data-key="process_2">הפקה</h3>
                    <p class="text-sm mt-2" data-key="process_2_desc">יום צילום, ניהול וביצוע טכני</p>
                </div>
                <div class="w-full md:w-1/5 glass-card text-center hover-trigger">
                    <div class="text-6xl font-black text-[var(--glass-border)] mb-4 orbitron-font">03</div>
                    <h3 class="text-xl font-bold text-[var(--primary)]" data-key="process_3">פוסט</h3>
                    <p class="text-sm mt-2" data-key="process_3_desc">עריכה, אנימציה וצבע</p>
                </div>
                <div class="w-full md:w-1/5 glass-card text-center hover-trigger">
                    <div class="text-6xl font-black text-[var(--glass-border)] mb-4 orbitron-font">04</div>
                    <h3 class="text-xl font-bold text-[var(--secondary)]" data-key="process_4">הפצה</h3>
                    <p class="text-sm mt-2" data-key="process_4_desc">שידור וקידום התוכן</p>
                </div>
            </div>
        </section>

        <!-- What We Do (Immersive Layout) -->
        <section id="what-we-do">
            <h2 class="section-title text-center mb-20" data-key="section_solutions">פתרונות מתקדמים</h2>

            <div class="service-block scroll-reveal">
                <div class="service-content">
                    <h3 class="text-4xl font-bold mb-6 text-[var(--text-color)]" data-key="sol_live_title">הפקות וידאו ושידורים חיים</h3>
                    <p class="text-muted-custom text-lg leading-relaxed mb-6" data-key="sol_live_desc">
                        שידור חי הוא אומנות של שניות. עם ניסיון של אלפי שעות שידור, אנו מביאים את היכולות של עולם הטלוויזיה לכל פלטפורמה דיגיטלית. איכות שידור ללא פשרות, גיבוי מלא וניהול בזמן אמת.
                    </p>
                    <ul class="space-y-2 text-muted-custom">
                        <li class="flex items-center gap-2"><span class="w-2 h-2 bg-[var(--primary)] rounded-full"></span> <span data-key="sol_live_li1">שידור רב-מוקדי</span></li>
                        <li class="flex items-center gap-2"><span class="w-2 h-2 bg-[var(--primary)] rounded-full"></span> <span data-key="sol_live_li2">גרפיקה בזמן אמת</span></li>
                    </ul>
                </div>
                <div class="service-img-wrapper hover-trigger">
                    <img src="https://images.unsplash.com/photo-1516961642265-531546e84af2?q=80&w=1000&auto=format&fit=crop" class="service-img" alt="Live">
                </div>
            </div>

            <div class="service-block alt scroll-reveal">
                <div class="service-content">
                    <h3 class="text-4xl font-bold mb-6 text-[var(--text-color)]" data-key="sol_ob_title">ניידת שידור ו-Multi Camera</h3>
                    <p class="text-muted-custom text-lg leading-relaxed mb-6" data-key="sol_ob_desc">
                        מערך צילום מרובה מצלמות שמאפשר לספר את הסיפור מכל הזוויות. ניידת השידור המודולרית שלנו מצוידת בטכנולוגיות 4K, מערכות ניתוב מתקדמות ויכולות הקלטה בסטנדרט בינלאומי.
                    </p>
                </div>
                <div class="service-img-wrapper hover-trigger">
                    <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=1000&auto=format&fit=crop" class="service-img" alt="OB Van">
                </div>
            </div>

            <div class="service-block scroll-reveal">
                <div class="service-content">
                    <h3 class="text-4xl font-bold mb-6 text-[var(--text-color)]" data-key="sol_virtual_title">כנסים וירטואליים</h3>
                    <p class="text-muted-custom text-lg leading-relaxed mb-6" data-key="sol_virtual_desc">
                        העתיד של הכנסים כבר כאן. אנו יוצרים סביבות וירטואליות אימרסיביות, המשלבות דוברים מהאולפן ומהבית, עם אינטראקציה מלאה של הקהל.
                    </p>
                </div>
                <div class="service-img-wrapper hover-trigger">
                    <img src="https://images.unsplash.com/photo-1588196749597-9ff075ee6b5b?q=80&w=1000&auto=format&fit=crop" class="service-img" alt="Virtual Conf">
                </div>
            </div>
        </section>

        <!-- Packages -->
        <section id="services">
            <h2 class="section-title text-center" data-key="section_packages">חבילות שירות</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                <div class="glass-card text-center hover:border-[var(--primary)] transition-colors hover-trigger">
                    <h3 class="text-2xl font-bold text-[var(--text-color)]" data-key="pkg_tech">מפעיל טכני</h3>
                    <div class="text-4xl font-black text-[var(--primary)] my-4" data-key="pkg_tech_price">₪2,500+</div>
                    <p class="mb-6 text-sm" data-key="pkg_tech_desc">פתרון נקודתי להפקות קיימות</p>
                    <ul class="text-right space-y-3 text-muted-custom mb-8 text-sm px-4">
                        <li data-key="pkg_tech_li1">✓ תפעול מערכות שידור</li>
                        <li data-key="pkg_tech_li2">✓ אינטגרציה עם ציוד קיים</li>
                        <li data-key="pkg_tech_li3">✓ הקמה ופירוק</li>
                    </ul>
                    <a href="#contact" class="cyber-btn w-full block" data-key="btn_order">הזמן עכשיו</a>
                </div>

                <div class="glass-card text-center border-[var(--secondary)] transform scale-105 shadow-[0_0_30px_rgba(189,0,255,0.2)] hover-trigger relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-[var(--secondary)] text-white text-xs px-3 py-1 font-bold" data-key="pkg_rec">מומלץ</div>
                    <h3 class="text-2xl font-bold text-[var(--text-color)]" data-key="pkg_director">במאי / מפיק טכני</h3>
                    <div class="text-4xl font-black text-[var(--secondary)] my-4" data-key="pkg_director_price">₪4,500+</div>
                    <p class="mb-6 text-sm" data-key="pkg_director_desc">ניהול מלא של האירוע בזמן אמת</p>
                    <ul class="text-right space-y-3 text-muted-custom mb-8 text-sm px-4">
                        <li data-key="pkg_director_li1">✓ ניתוב מצלמות</li>
                        <li data-key="pkg_director_li2">✓ ניהול ליין-אפ</li>
                        <li data-key="pkg_director_li3">✓ תקשורת עם צוות הפקה</li>
                    </ul>
                    <a href="#contact" class="cyber-btn w-full block" style="border-color: var(--secondary); color: var(--secondary);" data-key="btn_order">הזמן עכשיו</a>
                </div>

                <div class="glass-card text-center hover:border-[var(--primary)] transition-colors hover-trigger">
                    <h3 class="text-2xl font-bold text-[var(--text-color)]" data-key="pkg_pm">ניהול פרויקט</h3>
                    <div class="text-4xl font-black text-[var(--primary)] my-4" data-key="pkg_pm_price">מותאם אישית</div>
                    <p class="mb-6 text-sm" data-key="pkg_pm_desc">פתרון מקצה לקצה</p>
                    <ul class="text-right space-y-3 text-muted-custom mb-8 text-sm px-4">
                        <li data-key="pkg_pm_li1">✓ אפיון טכני מלא</li>
                        <li data-key="pkg_pm_li2">✓ בניית צוות הפקה</li>
                        <li data-key="pkg_pm_li3">✓ אחריות כוללת</li>
                    </ul>
                    <a href="#contact" class="cyber-btn w-full block" data-key="btn_contact">צור קשר</a>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section id="contact" class="py-20">
            <div class="glass-card max-w-3xl mx-auto text-center">
                <h2 class="text-5xl font-bold mb-6 glitch-text" data-text="בואו ניצור משהו מדהים" data-key="contact_title">בואו ניצור משהו מדהים</h2>
                <p class="text-xl text-muted-custom mb-12" data-key="contact_desc">
                    יש לכם חזון? לנו יש את הכלים להגשים אותו.
                </p>
                <div class="flex flex-col md:flex-row justify-center gap-8 items-center mb-12">
                    <a href="tel:054-255-9027" class="text-2xl hover:text-[var(--primary)] transition-colors hover-trigger font-bold font-mono text-[var(--text-color)]">054-255-9027</a>
                    <span class="hidden md:block text-muted-custom">|</span>
                    <a href="mailto:EdelenviProductions@gmail.com" class="text-2xl hover:text-[var(--secondary)] transition-colors hover-trigger font-bold text-[var(--text-color)]">EdelenviProductions@gmail.com</a>
                </div>
                <div class="flex justify-center gap-6">
                    <a href="https://wa.me/972542559027" target="_blank" class="cyber-btn bg-green-500/10 border-green-500 text-green-600 hover:bg-green-500 hover:text-white">WhatsApp</a>
                    <a href="mailto:EdelenviProductions@gmail.com" class="cyber-btn" data-key="btn_email">שלחו מייל</a>
                </div>
                <div class="mt-8">
                    <p class="text-lg font-bold text-[var(--text-color)]" data-key="contact_name">אוריין אדלני</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center text-gray-600 text-sm relative z-10 bg-black">
        <div class="flex justify-center gap-6 mb-8">
            <!-- Social Icons -->
            <a href="#" class="hover:text-white transition-colors"><svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a>
            <a href="#" class="hover:text-white transition-colors"><svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>
        </div>
        <p>&copy; 2024 PsychoFlash Productions. All rights reserved.</p>
    </footer>

    <!-- Mute Button -->
    <button id="mute-btn" class="fixed bottom-8 left-8 z-50 p-4 rounded-full bg-white/10 backdrop-blur border border-white/20 text-white hover:bg-primary hover:text-black transition-all">
        <svg id="mute-icon" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>
        <svg id="unmute-icon" class="hidden" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
    </button>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- Main Script -->
    <script>
        // --- Translations Data ---
        const translations = {
            he: {
                nav_home: "ראשי", nav_work: "עבודות", nav_dna: "DNA", nav_solutions: "פתרונות", nav_packages: "חבילות", nav_contact: "צור קשר", btn_talk: "דברו איתנו",
                hero_title: "השילוב המושלם", hero_subtitle: "בין ביצוע טכני לחדשנות יצירתית", hero_desc: "מהפקות וידאו ושידורים חיים ועד פיתוח פתרונות תוכנה ו-AI. אנחנו כאן כדי להפוך את החזון שלכם למציאות מרשימה, חלקה ונטולת תקלות.", hero_cta_start: "התחילו פרויקט", hero_cta_work: "צפו בעבודות",
                stat_productions: "הפקות מוצלחות", stat_countries: "מדינות בעולם", stat_support: "תמיכה ושירות",
                section_work: "נבחרת העבודות", work_live_sport: "שידור חי | ספורט", work_broadcast_ip: "שידור | IP",
                section_dna: "פרופיל לקוח", dna_subtitle: "התאמת פתרונות מדויקת לצרכים שלכם",
                dna_production: "חברות הפקה", dna_production_desc: "ניהול טכני מלא להפקות ואירועים גדולים. אנחנו הדאגה הטכנית שלכם בשטח.",
                dna_broadcasters: "גופי שידור", dna_broadcasters_desc: "תמיכה בשידורים חיים, הקמת אולפנים ותפעול מערכות וידאו מתקדמות.",
                dna_brands: "מותגים", dna_brands_desc: "שיווק וסיפור מותג באמצעות וידאו, השקות מוצר וכנסים וירטואליים.",
                dna_public: "ציבורי ואקדמי", dna_public_desc: "הנגשת תוכן לימודי, כנסי מדע והרצאות היברידיות.",
                dna_startups: "סטארטאפים", dna_startups_desc: "פיצ'ים, סרטוני תדמית ודמואים טכנולוגיים ברמה הגבוהה ביותר.",
                section_process: "התהליך שלנו", process_1: "אסטרטגיה", process_1_desc: "פיצוח הקונספט והגדרת יעדים", process_2: "הפקה", process_2_desc: "יום צילום, ניהול וביצוע טכני", process_3: "פוסט", process_3_desc: "עריכה, אנימציה וצבע", process_4: "הפצה", process_4_desc: "שידור וקידום התוכן",
                section_solutions: "פתרונות מתקדמים",
                sol_live_title: "הפקות וידאו ושידורים חיים", sol_live_desc: "שידור חי הוא אומנות של שניות. עם ניסיון של אלפי שעות שידור, אנו מביאים את היכולות של עולם הטלוויזיה לכל פלטפורמה דיגיטלית. איכות שידור ללא פשרות, גיבוי מלא וניהול בזמן אמת.", sol_live_li1: "שידור רב-מוקדי", sol_live_li2: "גרפיקה בזמן אמת",
                sol_ob_title: "ניידת שידור ו-Multi Camera", sol_ob_desc: "מערך צילום מרובה מצלמות שמאפשר לספר את הסיפור מכל הזוויות. ניידת השידור המודולרית שלנו מצוידת בטכנולוגיות 4K, מערכות ניתוב מתקדמות ויכולות הקלטה בסטנדרט בינלאומי.",
                sol_virtual_title: "כנסים וירטואליים", sol_virtual_desc: "העתיד של הכנסים כבר כאן. אנו יוצרים סביבות וירטואליות אימרסיביות, המשלבות דוברים מהאולפן ומהבית, עם אינטראקציה מלאה של הקהל.",
                section_packages: "חבילות שירות",
                pkg_tech: "מפעיל טכני", pkg_tech_price: "₪2,500+", pkg_tech_desc: "פתרון נקודתי להפקות קיימות", pkg_tech_li1: "✓ תפעול מערכות שידור", pkg_tech_li2: "✓ אינטגרציה עם ציוד קיים", pkg_tech_li3: "✓ הקמה ופירוק", btn_order: "הזמן עכשיו",
                pkg_director: "במאי / מפיק טכני", pkg_director_price: "₪4,500+", pkg_director_desc: "ניהול מלא של האירוע בזמן אמת", pkg_director_li1: "✓ ניתוב מצלמות", pkg_director_li2: "✓ ניהול ליין-אפ", pkg_director_li3: "✓ תקשורת עם צוות הפקה", pkg_rec: "מומלץ",
                pkg_pm: "ניהול פרויקט", pkg_pm_price: "מותאם אישית", pkg_pm_desc: "פתרון מקצה לקצה", pkg_pm_li1: "✓ אפיון טכני מלא", pkg_pm_li2: "✓ בניית צוות הפקה", pkg_pm_li3: "✓ אחריות כוללת", btn_contact: "צור קשר",
                contact_title: "בואו ניצור משהו מדהים", contact_desc: "יש לכם חזון? לנו יש את הכלים להגשים אותו.", btn_email: "שלחו מייל", contact_name: "אוריין אדלני"
            },
            en: {
                nav_home: "Home", nav_work: "Work", nav_dna: "DNA", nav_solutions: "Solutions", nav_packages: "Packages", nav_contact: "Contact", btn_talk: "Let's Talk",
                hero_title: "The Perfect Combo", hero_subtitle: "Between Technical Execution & Creative Innovation", hero_desc: "From video productions and live broadcasts to software and AI solutions. We are here to turn your vision into an impressive, smooth, and flawless reality.", hero_cta_start: "Start a Project", hero_cta_work: "View Work",
                stat_productions: "Successful Productions", stat_countries: "Countries Worldwide", stat_support: "Support & Service",
                section_work: "Selected Works", work_live_sport: "Live Broadcast | Sport", work_broadcast_ip: "Broadcast | IP",
                section_dna: "Client Profile", dna_subtitle: "Tailoring solutions precisely to your needs",
                dna_production: "Production Companies", dna_production_desc: "Full technical management for large productions and events. We are your technical peace of mind on the ground.",
                dna_broadcasters: "Broadcasters", dna_broadcasters_desc: "Support for live broadcasts, studio setup, and operation of advanced video systems.",
                dna_brands: "Brands", dna_brands_desc: "Marketing and brand storytelling through video, product launches, and virtual conferences.",
                dna_public: "Public & Academic", dna_public_desc: "Accessible educational content, science conferences, and hybrid lectures.",
                dna_startups: "Startups", dna_startups_desc: "Pitches, promotional videos, and high-end technological demos.",
                section_process: "Our Process", process_1: "Strategy", process_1_desc: "Cracking the concept and defining goals", process_2: "Production", process_2_desc: "Shooting day, management, and technical execution", process_3: "Post", process_3_desc: "Editing, animation, and color grading", process_4: "Distribution", process_4_desc: "Broadcasting and promoting content",
                section_solutions: "Advanced Solutions",
                sol_live_title: "Video Productions & Live Broadcasts", sol_live_desc: "Live broadcasting is an art of seconds. With thousands of broadcast hours, we bring TV-world capabilities to every digital platform. Uncompromising quality, full backup, and real-time management.", sol_live_li1: "Multi-Site Broadcast", sol_live_li2: "Real-Time Graphics",
                sol_ob_title: "OB Van & Multi Camera", sol_ob_desc: "A multi-camera setup allowing you to tell the story from all angles. Our modular OB van is equipped with 4K technologies, advanced routing systems, and international standard recording capabilities.",
                sol_virtual_title: "Virtual Conferences", sol_virtual_desc: "The future of conferences is here. We create immersive virtual environments, combining speakers from the studio and home, with full audience interaction.",
                section_packages: "Service Packages",
                pkg_tech: "Technical Operator", pkg_tech_price: "₪2,500+", pkg_tech_desc: "Specific solution for existing productions", pkg_tech_li1: "✓ Broadcast system operation", pkg_tech_li2: "✓ Integration with existing gear", pkg_tech_li3: "✓ Setup and dismantle", btn_order: "Book Now",
                pkg_director: "Technical Director", pkg_director_price: "₪4,500+", pkg_director_desc: "Full event management in real-time", pkg_director_li1: "✓ Camera routing", pkg_director_li2: "✓ Line-up management", pkg_director_li3: "✓ Crew communication", pkg_rec: "Recommended",
                pkg_pm: "Project Management", pkg_pm_price: "Custom", pkg_pm_desc: "End-to-end solution", pkg_pm_li1: "✓ Full technical spec", pkg_pm_li2: "✓ Production crew building", pkg_pm_li3: "✓ Overall responsibility", btn_contact: "Contact Us",
                contact_title: "Let's Create Magic", contact_desc: "Have a vision? We have the tools to make it happen.", btn_email: "Send Email", contact_name: "Orian Edelenyi"
            }
        };

        // --- Theme Management ---
        const themeBtns = document.querySelectorAll('.theme-btn');
        const sunIcon = document.getElementById('icon-sun');
        const moonIcon = document.getElementById('icon-moon');
        
        // Global ThreeJS Refs
        let particlesMaterial; 

        const updateThemeIcons = (isDark) => {
            if(isDark) {
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            } else {
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            }
            
            // Update Particles Color if initialized
            if(particlesMaterial) {
                // Dark mode: Cyan (00f2ff), Light mode: Dark Blue/Black (003366)
                particlesMaterial.color.setHex(isDark ? 0x00f2ff : 0x1a1a1a);
                particlesMaterial.opacity = isDark ? 0.8 : 0.5;
            }
        };

        const toggleTheme = () => {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if(isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                updateThemeIcons(false);
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                updateThemeIcons(true);
            }
        };

        // Init Theme
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme === 'light') {
            document.documentElement.classList.remove('dark');
            updateThemeIcons(false);
        } else if (savedTheme === 'dark') {
            document.documentElement.classList.add('dark');
            updateThemeIcons(true);
        } else {
            // Default behavior based on OS if no save
            if(!prefersDark) {
                document.documentElement.classList.remove('dark');
                updateThemeIcons(false);
            } else {
                 updateThemeIcons(true);
            }
        }

        themeBtns.forEach(btn => btn.addEventListener('click', toggleTheme));


        // --- Language Logic ---
        const setLanguage = (lang) => {
            const elements = document.querySelectorAll('[data-key]');
            elements.forEach(el => {
                const key = el.getAttribute('data-key');
                if(translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            // Update Glitch Text manually
            const glitchText = document.querySelector('.glitch-text');
            if(glitchText) {
                const isDark = document.documentElement.classList.contains('dark');
                // We rebuild innerHTML
                const spanContent = lang === 'he' ? 'המושלם' : 'Combo';
                const plainContent = lang === 'he' ? 'השילוב ' : 'The Perfect ';
                
                glitchText.innerHTML = `${plainContent}<span style="color:transparent; -webkit-text-stroke: 2px var(--primary);">${spanContent}</span>`;
                glitchText.setAttribute('data-text', plainContent + spanContent);
            }

            document.documentElement.dir = lang === 'he' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
        };

        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const lang = e.target.dataset.lang;
                setLanguage(lang);
            });
        });

        // --- Three.js Background Animation ---
        const initThreeJS = () => {
            const container = document.getElementById('webgl-container');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Particles
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 700;
            const posArray = new Float32Array(particlesCount * 3);

            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 15; // Spread
            }

            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

            // Initial color based on current theme
            const isDark = document.documentElement.classList.contains('dark');
            
            particlesMaterial = new THREE.PointsMaterial({
                size: 0.02,
                color: isDark ? 0x00f2ff : 0x1a1a1a,
                transparent: true,
                opacity: isDark ? 0.8 : 0.5,
            });

            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);

            camera.position.z = 3;

            // Mouse Interaction
            let mouseX = 0;
            let mouseY = 0;
            let targetX = 0;
            let targetY = 0;

            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX);
                mouseY = (event.clientY - windowHalfY);
            });

            const animate = () => {
                requestAnimationFrame(animate);

                targetX = mouseX * 0.001;
                targetY = mouseY * 0.001;

                particlesMesh.rotation.y += 0.001;
                particlesMesh.rotation.x += 0.0005;

                particlesMesh.rotation.y += 0.05 * (targetX - particlesMesh.rotation.y);
                particlesMesh.rotation.x += 0.05 * (targetY - particlesMesh.rotation.x);

                renderer.render(scene, camera);
            };

            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // --- 3D Tilt Effect (Vanilla JS Implementation) ---
        const initTilt = () => {
            const cards = document.querySelectorAll('.js-tilt');
            
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    
                    const rotateX = ((y - centerY) / centerY) * -10; // Max tilt deg
                    const rotateY = ((x - centerX) / centerX) * 10;

                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
                });

                card.addEventListener('mouseleave', () => {
                    card.style.transform = `perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)`;
                });
            });
        };

        // --- Scroll Reveal ---
        const initScrollReveal = () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.2 });

            document.querySelectorAll('.scroll-reveal').forEach(el => observer.observe(el));

            // Header Scroll Effect
            window.addEventListener('scroll', () => {
                const header = document.getElementById('main-header');
                if(window.scrollY > 50) header.classList.add('scrolled');
                else header.classList.remove('scrolled');
            });
        };

        // --- Video Logic ---
        let playerA, playerB, activePlayer = 'A';
        let isMuted = true;
        const videos = [
             { videoId: '_rv2sMdyCpg', duration: 258 }, 
             { videoId: 'Z3oO_GmtFfg', duration: 112 },
             { videoId: 'px7UwM8QDDU', duration: 133 }, 
             { videoId: 'd2_lJ42GuZ0', duration: 153 },
             { videoId: 'pMhajv-n9K8', duration: 139 }
        ];

        function onYouTubeIframeAPIReady() {
            const vars = { autoplay: 1, controls: 0, disablekb: 1, fs: 0, loop: 1, modestbranding: 1, playsinline: 1, rel: 0, showinfo: 0, mute: 1 };
            playerA = new YT.Player('player-container-a', { playerVars: vars, events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange } });
            playerB = new YT.Player('player-container-b', { playerVars: vars, events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange } });
        }

        function onPlayerReady(e) {
            e.target.mute();
            if(e.target === playerA) loadNextVideo(playerA);
            if(e.target === playerB) loadNextVideo(playerB);
        }

        function onPlayerStateChange(e) {
            if (e.data === YT.PlayerState.ENDED) e.target.playVideo();
        }

        function loadNextVideo(player) {
            const vid = videos[Math.floor(Math.random() * videos.length)];
            player.loadVideoById({ videoId: vid.videoId, startSeconds: 10, endSeconds: 25 });
        }

        setInterval(() => {
            const current = activePlayer === 'A' ? playerA : playerB;
            const next = activePlayer === 'A' ? playerB : playerA;
            const currentEl = document.getElementById(activePlayer === 'A' ? 'player-container-a' : 'player-container-b');
            const nextEl = document.getElementById(activePlayer === 'A' ? 'player-container-b' : 'player-container-a');

            loadNextVideo(next);
            nextEl.style.opacity = 1;
            currentEl.style.opacity = 0;
            activePlayer = activePlayer === 'A' ? 'B' : 'A';
        }, 10000);

        document.getElementById('mute-btn').addEventListener('click', () => {
            isMuted = !isMuted;
            if(playerA) isMuted ? playerA.mute() : playerA.unMute();
            if(playerB) isMuted ? playerB.mute() : playerB.unMute();
            
            document.getElementById('mute-icon').classList.toggle('hidden', !isMuted);
            document.getElementById('unmute-icon').classList.toggle('hidden', isMuted);
        });

        // --- Mobile Menu ---
        const mobileMenu = document.getElementById('mobile-menu');
        document.getElementById('menu-btn').addEventListener('click', () => mobileMenu.classList.add('open'));
        document.getElementById('close-menu').addEventListener('click', () => mobileMenu.classList.remove('open'));
        document.querySelectorAll('.mobile-link').forEach(link => link.addEventListener('click', () => mobileMenu.classList.remove('open')));

        // --- Init All ---
        document.addEventListener('DOMContentLoaded', () => {
            initThreeJS();
            initTilt();
            initScrollReveal();
            
            // Inject Logos
            const logos = [
                'https://go-live.co.il/wp-content/uploads/2021/11/logo-strauss2.png',
                'https://go-live.co.il/wp-content/uploads/2021/11/Wix.com_Logo-1.png',
                'https://go-live.co.il/wp-content/uploads/2021/11/Microsoft_logo_2012.svg_-1.png',
                'https://go-live.co.il/wp-content/uploads/2021/11/1280px-Poalim2018.svg_-1.png',
                'https://go-live.co.il/wp-content/uploads/2021/11/assuta_logo-1.png'
            ];
            const track = document.getElementById('logo-track');
            const createLogo = (src) => {
                const img = document.createElement('img');
                img.src = src;
                img.className = "h-12 object-contain transition-all";
                return img;
            }
            logos.forEach(l => track.appendChild(createLogo(l)));
            logos.forEach(l => track.appendChild(createLogo(l)));
        });

    </script>
</body>
</html>
